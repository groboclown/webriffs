<div ng-if="cmp.canCreateBranch">
    <div ng-if="cmp.showCreateBranch">
        <async-status parent="cmp"></async-status>
        <form onsubmit="return false;">
           <async-status parent="cmp.lookupName"></async-status>
           <div>
             <input type="text" ng-model="cmp.lookupName.name"
                 ng-minlength="1"
                 ng-maxlength="200"
                 placeholder="Branch name"
                 required>
             <span ng-if="! cmp.lookupName.valid">Invalid name</span>
           </div>
           <div>
             <input type="submit" ng-click="cmp.createBranch()" value="Create"
                 ng-disabled="cmp.disabled">
             <button ng-click="cmp.cancel()">Cancel</button>
           </div>
        </form>
    </div>
    <div ng-if="! cmp.showCreateBranch">
        <span ng-click="cmp.showCreateBranch = true">Create a new branch</span>
    </div>
</div>
